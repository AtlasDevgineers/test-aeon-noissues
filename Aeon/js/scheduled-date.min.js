window.addEventListener("load",function(){this.document.getElementById("ScheduledDate")&&fetch("aeon.dll/ajax?query=ScheduledDate",{method:"GET",cache:"no-cache"}).then(n=>n.json()).then(n=>{function o(){var n=document.getElementById("ScheduledDate"),t=new Date(n.value);isNaN(t)?(alert("Invalid date. Please enter the date using the mm/dd/yyyy format."),n.value="",setTimeout(function(){n.focus()},0)):datePickerController.dateValidForSelection("ScheduledDate",t)||(alert("We are closed on "+t.toDateString()+". Please select another date."),n.value="",setTimeout(function(){n.focus()},0))}disabledDays=[n.DefaultSchedule.includes("Monday")?0:1,n.DefaultSchedule.includes("Tuesday")?0:1,n.DefaultSchedule.includes("Wednesday")?0:1,n.DefaultSchedule.includes("Thursday")?0:1,n.DefaultSchedule.includes("Friday")?0:1,n.DefaultSchedule.includes("Saturday")?0:1,n.DefaultSchedule.includes("Sunday")?0:1];let r=n.MinimumDays;r<0&&(r=0);let t=n.MaximumDays;(t<=r||t<=0)&&(t=null);let i=new Date,u=new Date(i.getFullYear(),i.getMonth(),i.getDate()+r),f=new Date(i.getFullYear(),i.getMonth(),i.getDate()+t);disabledDates={};n.ScheduledClosures.forEach(n=>{let i=new Date(n.ClosureDate),t=i.toISOString().slice(0,10).replace(/-/g,"");n.Recurring=="true"&&(t="****"+t.slice(4));disabledDates[t]=1});datePickerController.setGlobalOptions({nodrag:1});var e=new MutationObserver(n=>{n.forEach(n=>{if(n.attributeName==="disabled"){var i=n.target.id;if(i!=="ScheduledDate")return;n.target[n.attributeName]?datePickerController.destroyDatePicker("ScheduledDate"):(datePickerController.createDatePicker({formElements:{ScheduledDate:"%m/%d/%Y"},noTodayButton:"true",positioned:"datePickerButton",finalOpacity:100,disabledDays:disabledDays,rangeLow:u}),datePickerController.setDisabledDates("ScheduledDate",disabledDates),t&&datePickerController.setRangeHigh("ScheduledDate",f))}})});e.observe($("#ScheduledDate")[0],{attributes:!0});$("#ScheduledDate")[0].disabled||(datePickerController.createDatePicker({formElements:{ScheduledDate:"%m/%d/%Y"},noTodayButton:"true",positioned:"datePickerButton",finalOpacity:100,disabledDays:disabledDays,rangeLow:u}),datePickerController.setDisabledDates("ScheduledDate",disabledDates),t&&datePickerController.setRangeHigh("ScheduledDate",f));this.document.getElementById("datePickerButton").addEventListener("click",function(){datePickerController.show("ScheduledDate",!0)});this.document.getElementById("ScheduledDate").addEventListener("change",function(){o()})})})